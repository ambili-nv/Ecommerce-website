<section class="content-main" style="margin-left: 250px;">
    <div class="content-header">

        <div>
            <h2 class="content-title card-title">Order List </h2>
            <p>Lorem ipsum dolor sit amet.</p>
        </div>
     
    </div>
    <div class="card mb-4">
        <header class="card-header">
            <div class="row gx-3">
        </header> <!-- card-header end// -->
        <div class="card-body">
            <div class="table-responsive">
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th>So.No</th>
                            <th scope="col">Order ID </th>
                            <th scope="col">Shipping Address</th>
                            <th scope="col">Date</th>
                            <th scope="col">Price</th>
                            <th>Payment Method</th>
                            <th scope="col">Status</th>
                            <!-- <th scope="col" class="text-end"> Action </th> -->
                        </tr>
                    </thead>
                    <tbody>
                        <% orders.forEach((order, index) => { %>
                        <tr>
                            <td  class="align-middle"><%= index + 1 %></td>
                            <td  class="align-middle"><%= order.orderId %></td>
                            <td class="align-middle">
                                <%= order.shippingAddress %>, <%= order.city %>, <%= order.zip %></td>
                            <td class="align-middle">
                                <%= new Date(order.orderedDate).toLocaleDateString('en-US', { year: 'numeric', month:
                                'long', day: 'numeric' }) %></td>   
                            <td  class="align-middle"><%= order.totalPrice.toFixed(2) %></td>
                            <td class="align-middle"><%= order.payment_method%></td>
                            <td class="align-middle">
                                <a class="btn btn-sm btn-primary" href="/admin/edit-order/<%= order.orderId %>">Details</a>
                            </td>
                        </tr>
                            <% }) %>
                           
                    </tbody>
                </table>
            </div> <!-- table-responsive //end -->
        </div> <!-- card-body end// -->
    </div> <!-- card end// -->

    <% if (totalpages) { %>
        <div class="pagination justify-content-center">
          <% if (currentpage > 1) { %>
            <button class="btn btn-sm" ><a href="?page=<%= currentpage - 1 %>">Previous</a></button>
          <% } %>
      
          <% for (let i = 1; i <= totalpages; i++) { %> <!-- Change the loop to start from 1 and go up to totalpages -->
            <button class="btn btn-sm " ><a href="?page=<%= i %>" class="<%= i === currentpage ? 'active' : '' %>"><%= i %></a></button>
          <% } %>
      
          <% if (currentpage < totalpages) { %>
            <button class="btn btn-sm" ><a href="?page=<%= currentpage + 1 %>">Next</a></button>
          <% } %>
        </div>
      <% } %>
    
</section>